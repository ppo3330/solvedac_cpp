//O(N)
//이진검색트리를 전위순회로 입력받았을 때, 패턴을 인식.
//루트 기준으로 커진 숫자가 나오기 전까지는 왼쪽 서브트리임. 그 후 오른쪽 서브트리.
//이를 이용해서 왼쪽, 오른쪽을 나누고 더이상 못나누어질때 루트를 출력.

#include <iostream>
#include <vector>
#include <algorithm>

using namespace std;

int arr[10001];
int idx = 0;

void dfs(int st, int ed) {
	if (st >= ed) return;

	int root = arr[st];
	int right = st + 1;

	while (right < ed and arr[right] < root) right++;

	dfs(st + 1, right);
	dfs(right, ed);
	cout << root <<"\n";

}


int main() {
	ios_base::sync_with_stdio(false);
	cin.tie(NULL);


	while (cin >> arr[idx]) idx++;
	dfs(0, idx);
}	
