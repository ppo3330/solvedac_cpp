//O(N!/(N-M)! * M)
//N과M지금까지랑 똑같았으나 중복 제거에서 애를 먹었음. 이전 순열에서 마지막값과 추가하려는 값이 같으면 중복임. arr이 정렬돼있음.
#include <iostream>
#include <vector>
#include <algorithm>
#include <string>

using namespace std;

int N, M;
vector<int> arr;
vector<int> seq;
bool chk[10] = { false, };

void dfs() {
	if (seq.size() == M) {
		for (int j = 0; j < M; j++) {
			cout << seq[j] << " ";
		}
		cout << "\n";
		return;
	}
	int last = 0;
	for (int i = 0; i < N; i++) {
		if (!chk[i] and arr[i] != last) {
			last = arr[i];
			seq.push_back(arr[i]);
			chk[i] = true;
			dfs();
			seq.pop_back();
			chk[i] = false;
		}
	}
}

int main() {
	ios_base::sync_with_stdio(false);
	cin.tie(NULL);


	cin >> N >> M;
	for (int i = 0; i < N; i++) {
		int a;
		cin >> a;
		arr.push_back(a);
	}
	sort(arr.begin(), arr.end());
	dfs();


}


}
