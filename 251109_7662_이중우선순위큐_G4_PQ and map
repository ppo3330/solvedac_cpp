//O(T*logk)
//큐를 두개 사용하고 map으로 해당 값이 비어있으면 반대쪽에서 큐도 삭제해야함.
//처음에 한쪽만 삭제하고 비어있을때만 초기화했는데 그러면 반대쪽에 유령값이 남는경우가 생김.
#include <iostream>
#include <vector>
#include <algorithm>
#include <queue>
#include <map>

using namespace std;	

int main() {
	ios_base::sync_with_stdio(false);
	cin.tie(NULL);

	int T;
	cin >> T;

	for (int i = 0; i < T; i++) {
		priority_queue<int> pq1;
		priority_queue<int, vector<int>, greater<int>> pq2;
		map<int, int> count;

		int k;
		cin >> k;
		for (int j = 0; j < k; j++) {
			char c;
			int n;
			cin >> c >> n;
			if (c == 'I') {
				pq1.push(n);
				pq2.push(n);
				count[n]++;
			}
			else {
				if (count.empty()) continue;
				if (n == 1) {
					while (!pq1.empty() and count[pq1.top()] == 0) pq1.pop();
					if (!pq1.empty()) {
						count[pq1.top()]--;
						pq1.pop();
					}
				}
				else if (n==-1){
					while (!pq2.empty() and count[pq2.top()] == 0) pq2.pop();
					if (!pq2.empty()) {
						count[pq2.top()]--;
						pq2.pop();
					}
				}
			}
		}

		while(!pq1.empty() and count[pq1.top()] == 0) pq1.pop();
		while (!pq2.empty() and count[pq2.top()] == 0) pq2.pop();

		if (pq2.empty()) cout << "EMPTY\n";
		else cout << pq1.top() << " " << pq2.top() << "\n";
	}
}
