//O(log N)
//힙 확인. priority queue이용, greater<int>로 내림차순
//우선순위 큐에서 입력은 log N임

#include <iostream>
#include <vector>
#include <algorithm>
#include <queue>
#include <math.h>

using namespace std;


int main() {
	ios_base::sync_with_stdio(false);
	cin.tie(NULL);

	int N;
	cin >> N;
	int x;
	vector<int> result;
	priority_queue<int, vector<int>, greater<int>> plusq;
	priority_queue<int> minusq;

	for (int i = 0; i < N; i++) {
		cin >> x;
		if (x > 0) {
			plusq.push(x);
		}
		else if (x < 0) {
			minusq.push(x);
		}
		else if (x == 0) {
			if (plusq.empty() && minusq.empty())
				result.push_back(0);
			else if (plusq.empty()) {
				result.push_back(minusq.top());
				minusq.pop();
			}
			else if (minusq.empty()) {
				result.push_back(plusq.top());
				plusq.pop();
			}
			else {
				if (abs(minusq.top()) <= abs(plusq.top())) {
					result.push_back(minusq.top());
					minusq.pop();
				}
				else {
					result.push_back(plusq.top());
					plusq.pop();
				}
			}
		}
	}



	for (int i = 0; i < result.size();i++) {
		cout << result[i] <<"\n";
	}
	
}
