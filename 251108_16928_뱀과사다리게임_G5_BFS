//O(1)
//처음에는 연결리스트로 했는데 특정수에 갔을떄 무조건 이동이기 때문에 move 와 dice를 통해서 해결

#include <iostream>
#include <vector>
#include <algorithm>
#include <queue>

using namespace std;	

int main() {
	ios_base::sync_with_stdio(false);
	cin.tie(NULL);

	int N, M;
	cin >> N >> M;

	vector<int> score;
	score.assign(110, 0);
	vector<int> move;
	move.assign(110, 0);
	

	for (int i = 0; i < N+M; i++) {
		int a,b;
		cin >> a >> b;
		move[a] = b;
	}


	queue<int> q;
	q.push(1);
	while (!q.empty()) {
		int cur = q.front();
		q.pop();
		for (int dice = 1; dice < 7; dice++) {
			int next = cur + dice;
			if (cur > 100) continue;
			if (move[next] != 0) next = move[next];

			if (score[next] == 0) {
				score[next] = score[cur] + 1;
				q.push(next);
			}
			else if (score[next] > score[cur] + 1) {
				score[next] = score[cur] + 1;
				q.push(next);
			}
			

		}
	}

	cout << score[100];

}
